{"ast":null,"code":"const express = require('express');\n\nconst request = require('request');\n\nconst app = express();\napp.use((req, res, next) => {\n  res.header('Access-Control-Allow-Origin', '*');\n  next();\n});\napp.get('/jokes/random', (req, res) => {\n  request({\n    url: 'https://joke-api-strict-cors.appspot.com/jokes/random'\n  }, (error, response, body) => {\n    if (error || response.statusCode !== 200) {\n      return res.status(500).json({\n        type: 'error',\n        message: err.message\n      });\n    }\n\n    res.json(JSON.parse(body));\n  });\n});\nconst PORT = process.env.PORT || 3000;\napp.listen(PORT, () => console.log(`listening on ${PORT}`));","map":{"version":3,"sources":["C:/xampp/htdocs/scandiweb-test/src/cors.js"],"names":["express","require","request","app","use","req","res","next","header","get","url","error","response","body","statusCode","status","json","type","message","err","JSON","parse","PORT","process","env","listen","console","log"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,OAAO,GAAGD,OAAO,CAAC,SAAD,CAAvB;;AAEA,MAAME,GAAG,GAAGH,OAAO,EAAnB;AAEAG,GAAG,CAACC,GAAJ,CAAQ,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AAC1BD,EAAAA,GAAG,CAACE,MAAJ,CAAW,6BAAX,EAA0C,GAA1C;AACAD,EAAAA,IAAI;AACL,CAHD;AAKAJ,GAAG,CAACM,GAAJ,CAAQ,eAAR,EAAyB,CAACJ,GAAD,EAAMC,GAAN,KAAc;AACrCJ,EAAAA,OAAO,CACL;AAAEQ,IAAAA,GAAG,EAAE;AAAP,GADK,EAEL,CAACC,KAAD,EAAQC,QAAR,EAAkBC,IAAlB,KAA2B;AACzB,QAAIF,KAAK,IAAIC,QAAQ,CAACE,UAAT,KAAwB,GAArC,EAA0C;AACxC,aAAOR,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,QAAAA,IAAI,EAAE,OAAR;AAAiBC,QAAAA,OAAO,EAAEC,GAAG,CAACD;AAA9B,OAArB,CAAP;AACD;;AAEDZ,IAAAA,GAAG,CAACU,IAAJ,CAASI,IAAI,CAACC,KAAL,CAAWR,IAAX,CAAT;AACD,GARI,CAAP;AAUD,CAXD;AAaA,MAAMS,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYF,IAAZ,IAAoB,IAAjC;AACAnB,GAAG,CAACsB,MAAJ,CAAWH,IAAX,EAAiB,MAAMI,OAAO,CAACC,GAAR,CAAa,gBAAeL,IAAK,EAAjC,CAAvB","sourcesContent":["const express = require('express');\r\nconst request = require('request');\r\n\r\nconst app = express();\r\n\r\napp.use((req, res, next) => {\r\n  res.header('Access-Control-Allow-Origin', '*');\r\n  next();\r\n});\r\n\r\napp.get('/jokes/random', (req, res) => {\r\n  request(\r\n    { url: 'https://joke-api-strict-cors.appspot.com/jokes/random' },\r\n    (error, response, body) => {\r\n      if (error || response.statusCode !== 200) {\r\n        return res.status(500).json({ type: 'error', message: err.message });\r\n      }\r\n\r\n      res.json(JSON.parse(body));\r\n    }\r\n  )\r\n});\r\n\r\nconst PORT = process.env.PORT || 3000;\r\napp.listen(PORT, () => console.log(`listening on ${PORT}`));"]},"metadata":{},"sourceType":"module"}